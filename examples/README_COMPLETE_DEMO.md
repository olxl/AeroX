# AeroX å®Œæ•´ç¤ºä¾‹ - æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯é€šä¿¡æ¼”ç¤º

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„æœåŠ¡å™¨-å®¢æˆ·ç«¯é€šä¿¡ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ AeroX å®¢æˆ·ç«¯åº“ä¸æœåŠ¡å™¨è¿›è¡Œé€šä¿¡ã€‚

## åŠŸèƒ½ç‰¹æ€§

- **Ping-Pong æµ‹è¯•**: æµ‹è¯•å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„åŸºæœ¬é€šä¿¡
- **èŠå¤©æ¶ˆæ¯**: æ¼”ç¤ºå¦‚ä½•å‘é€å’Œæ¥æ”¶èŠå¤©æ¶ˆæ¯
- **æ‰¹é‡æ¶ˆæ¯**: æµ‹è¯•æ‰¹é‡å‘é€æ¶ˆæ¯çš„æ€§èƒ½
- **Protobuf æ¶ˆæ¯æ”¯æŒ**: ä½¿ç”¨ Protobuf è¿›è¡Œæ¶ˆæ¯ç¼–è§£ç 
- **StreamClient API**: å±•ç¤ºäº†åº•å±‚ Stream API çš„ä½¿ç”¨

## è¿è¡Œæ–¹å¼

### æ–¹å¼ä¸€: ä½¿ç”¨ cargo run

**ç»ˆç«¯ 1 - å¯åŠ¨æœåŠ¡å™¨:**
```bash
cd /path/to/AeroX
cargo run --example complete_demo -- server
```

**ç»ˆç«¯ 2 - å¯åŠ¨å®¢æˆ·ç«¯:**
```bash
cd /path/to/AeroX
cargo run --example complete_demo -- client
```

### æ–¹å¼äºŒ: ç›´æ¥è¿è¡Œç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶

**å¯åŠ¨æœåŠ¡å™¨:**
```bash
./target/debug/examples/complete_demo server
```

**å¯åŠ¨å®¢æˆ·ç«¯:**
```bash
./target/debug/examples/complete_demo client
```

## æœåŠ¡å™¨è¾“å‡ºç¤ºä¾‹

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     AeroX å®Œæ•´ç¤ºä¾‹ - æœåŠ¡å™¨           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ å¯åŠ¨æœåŠ¡å™¨...
   åœ°å€: 127.0.0.1:8080

âœ“ æœåŠ¡å™¨å¯åŠ¨æˆåŠŸï¼Œç­‰å¾…è¿æ¥...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æ”¯æŒçš„æ¶ˆæ¯ç±»å‹:
  [1001] PingRequest  -> PingResponse
  [2001] ChatMessage  -> BroadcastMessage
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“¥ æ–°è¿æ¥ #1 æ¥è‡ª: 127.0.0.1:52341
   â†³ è¿æ¥ #1 å·²å»ºç«‹
   â†³ [PING] æ¥è‡ª 127.0.0.1:52341: Hello from client!
   â†³ [PONG] å‘é€å“åº”
   â†³ [CHAT] Alice: ä½ å¥½ï¼ŒAeroX!
   â†³ [BROADCAST] æ¶ˆæ¯å·²å¹¿æ’­
```

## å®¢æˆ·ç«¯è¾“å‡ºç¤ºä¾‹

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”â”â”â”â”â”â”â”â”â”â”â”â”â•—
â•‘     AeroX å®Œæ•´ç¤ºä¾‹ - å®¢æˆ·ç«¯            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”â”â”â”â”â”â”â”â”â”â”â”â”â•

ğŸ”— è¿æ¥åˆ°æœåŠ¡å™¨: 127.0.0.1:8080

âœ“ è¿æ¥æˆåŠŸ!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
å¼€å§‹æ‰§è¡Œæµ‹è¯•åœºæ™¯...

ğŸ“ åœºæ™¯ 1: Ping-Pong æµ‹è¯•
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   â†’ å‘é€ PING è¯·æ±‚: Hello from client!
   â† æ”¶åˆ° PONG å“åº”: PONG from server (conn #1)
   â†’ å¾€è¿”æ—¶é—´: 0 ms
   âœ“ æ—¶é—´æˆ³éªŒè¯æˆåŠŸ

ğŸ“ åœºæ™¯ 2: èŠå¤©æ¶ˆæ¯æµ‹è¯•
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   â†’ å‘é€èŠå¤©æ¶ˆæ¯: Alice: ä½ å¥½ï¼ŒAeroX!
   â† æ”¶åˆ°å¹¿æ’­: [User Alice via conn #1] ä½ å¥½ï¼ŒAeroX!

ğŸ“ åœºæ™¯ 3: æ‰¹é‡æ¶ˆæ¯æµ‹è¯•
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   â†’ å‘é€æ¶ˆæ¯ 1/3: æ¶ˆæ¯ 1: æµ‹è¯•å¼€å§‹
   â† æ”¶åˆ°å“åº” 1/3
   â†’ å‘é€æ¶ˆæ¯ 2/3: æ¶ˆæ¯ 2: æ‰¹é‡å‘é€
   â† æ”¶åˆ°å“åº” 2/3
   â†’ å‘é€æ¶ˆæ¯ 3/3: æ¶ˆæ¯ 3: æ€§èƒ½æµ‹è¯•
   â† æ”¶åˆ°å“åº” 3/3
   âœ“ æ‰¹é‡æ¶ˆæ¯æµ‹è¯•å®Œæˆ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ“ æ‰€æœ‰æµ‹è¯•å®Œæˆ!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ“ è¿æ¥å·²å…³é—­
```

## æ¶ˆæ¯åè®®

ç¤ºä¾‹ä½¿ç”¨ä»¥ä¸‹æ¶ˆæ¯ç±»å‹å’Œ IDï¼š

### PingRequest (1001)
```protobuf
message PingRequest {
    uint64 timestamp = 1;
    string message = 2;
}
```

### PingResponse (1002)
```protobuf
message PingResponse {
    uint64 request_timestamp = 1;
    uint64 server_timestamp = 2;
    string message = 3;
}
```

### ChatMessage (2001)
```protobuf
message ChatMessage {
    string username = 1;
    string content = 2;
    uint64 timestamp = 3;
}
```

### BroadcastMessage (2002)
```protobuf
message BroadcastMessage {
    string from_server = 1;
    string content = 2;
    uint64 timestamp = 3;
}
```

## ä»£ç ç»“æ„

### æœåŠ¡å™¨éƒ¨åˆ†
- `run_server()`: å¯åŠ¨ TCP æœåŠ¡å™¨
- `handle_client()`: å¤„ç†å•ä¸ªå®¢æˆ·ç«¯è¿æ¥
- `send_message()`: å‘é€æ¶ˆæ¯åˆ°å®¢æˆ·ç«¯

### å®¢æˆ·ç«¯éƒ¨åˆ†
- `run_client()`: è¿è¡Œå®¢æˆ·ç«¯æµ‹è¯•
- `test_ping_pong()`: Ping-Pong æµ‹è¯•åœºæ™¯
- `test_chat_message()`: èŠå¤©æ¶ˆæ¯æµ‹è¯•åœºæ™¯
- `test_batch_messages()`: æ‰¹é‡æ¶ˆæ¯æµ‹è¯•åœºæ™¯

## æ‰©å±•å»ºè®®

1. **æ·»åŠ æ›´å¤šæ¶ˆæ¯ç±»å‹**: åœ¨ç¤ºä¾‹ä¸­æ·»åŠ æ›´å¤š Protobuf æ¶ˆæ¯ç±»å‹
2. **å®ç°å¤šå®¢æˆ·ç«¯æ”¯æŒ**: æ‰©å±•æœåŠ¡å™¨ä»¥æ”¯æŒå¤šä¸ªå®¢æˆ·ç«¯ä¹‹é—´çš„æ¶ˆæ¯è½¬å‘
3. **æ·»åŠ é”™è¯¯å¤„ç†**: å¢å¼ºé”™è¯¯å¤„ç†å’Œé‡è¿é€»è¾‘
4. **æ€§èƒ½æµ‹è¯•**: æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•
5. **ä½¿ç”¨ HighLevelClient**: å°è¯•ä½¿ç”¨é«˜çº§ API æ›¿ä»£ StreamClient

## ç›¸å…³æ–‡æ¡£

- [AeroX å®¢æˆ·ç«¯åº“æ–‡æ¡£](../../README.md)
- [StreamClient API](../src/stream/client.rs)
- [Protobuf æ¶ˆæ¯å®šä¹‰](../../aerox_protobuf/proto/messages.proto)
